<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>ZWAP! Move to Earn</title>
<link rel="stylesheet" href="style.css">
<script src="https://cdn.jsdelivr.net/npm/sweetalert2@11"></script>
<script src="https://unpkg.com/@walletconnect/web3-provider@1.8.0/dist/umd/index.min.js"></script>
<style>
.move-features {
  display: grid;
  grid-template-columns: 1fr 1fr;
  gap: 2rem;
  max-width: 800px;
  margin: 2rem auto;
  padding: 0 1rem;
}

.feature-card {
  background: rgba(0, 0, 0, 0.8);
  border: 2px solid #00BFFF;
  border-radius: 15px;
  padding: 2rem;
  text-align: center;
  box-shadow: 0 0 20px rgba(0, 191, 255, 0.3);
  transition: all 0.3s ease;
}

.feature-card:hover {
  transform: translateY(-5px);
  box-shadow: 0 0 30px rgba(0, 191, 255, 0.5);
}

.feature-icon {
  font-size: 3rem;
  margin-bottom: 1rem;
  display: block;
}

.feature-title {
  color: #00BFFF;
  font-size: 1.5rem;
  font-weight: bold;
  margin-bottom: 1rem;
  text-transform: uppercase;
  letter-spacing: 1px;
}

.feature-description {
  color: #CCCCCC;
  margin-bottom: 1.5rem;
  line-height: 1.6;
}

.feature-stats {
  background: rgba(0, 191, 255, 0.1);
  border-radius: 10px;
  padding: 1rem;
  margin: 1rem 0;
}

.stat-item {
  display: flex;
  justify-content: space-between;
  margin: 0.5rem 0;
  color: #FFFFFF;
}

.stat-label {
  color: #CCCCCC;
}

.stat-value {
  color: #FFD700;
  font-weight: bold;
}

.feature-btn {
  background: linear-gradient(135deg, #00BFFF, #0099CC);
  color: white;
  border: none;
  padding: 0.8rem 2rem;
  border-radius: 10px;
  font-weight: bold;
  cursor: pointer;
  font-size: 1rem;
  text-transform: uppercase;
  letter-spacing: 1px;
  transition: all 0.3s ease;
  width: 100%;
  margin: 0.5rem 0;
}

.feature-btn:hover {
  background: linear-gradient(135deg, #0099CC, #006699);
  transform: scale(1.05);
}

.feature-btn:disabled {
  background: #666;
  cursor: not-allowed;
  transform: none;
}

.active-session {
  border-color: #00FF00;
  box-shadow: 0 0 20px rgba(0, 255, 0, 0.3);
}

.dance-difficulty {
  display: flex;
  gap: 0.5rem;
  justify-content: center;
  margin: 1rem 0;
}

.difficulty-btn {
  background: rgba(0, 191, 255, 0.2);
  border: 1px solid #00BFFF;
  color: #00BFFF;
  padding: 0.5rem 1rem;
  border-radius: 5px;
  cursor: pointer;
  transition: all 0.3s ease;
  font-size: 0.9rem;
}

.difficulty-btn.selected {
  background: #00BFFF;
  color: white;
}

.progress-bar {
  background: rgba(0, 0, 0, 0.5);
  border-radius: 10px;
  height: 20px;
  margin: 1rem 0;
  overflow: hidden;
}

.progress-fill {
  background: linear-gradient(90deg, #00BFFF, #FFD700);
  height: 100%;
  transition: width 0.3s ease;
  border-radius: 10px;
}

@media (max-width: 768px) {
  .move-features {
    grid-template-columns: 1fr;
    gap: 1.5rem;
  }
}
</style>
</head>
<body>
<header>
<div class="header-left">
<button id="connectBtn">CONNECT WALLET</button>
</div>
<div class="balance-display drop-animation">
<div class="balance-item">
<span class="balance-label gold">XHI</span>
<span class="balance-value" id="xhiBalance">0.00</span>
</div>
<div class="balance-item">
<span class="balance-label zpts">Z PTS</span>
<span class="balance-value" id="zBalance">0</span>
</div>
</div>
<nav class="header-nav">
<a href="move.html" class="nav-item current">MOVE</a>
<a href="play.html" class="nav-item">PLAY</a>
<a href="Swap.html" class="nav-item">SWAP</a>
<a href="Credit.html" class="nav-item">CREDIT</a>
</nav>
<img id="bang" src="Zwap_bang_3d.PNG" alt="Bang Symbol">
<div id="bangMenu" class="dropdown-menu">
<button class="menu-btn" id="homeBtn">HOME</button>
<button class="menu-btn" id="learnBtn">LEARN</button>
<button class="menu-btn" id="earnBtn">EARN</button>
<button class="menu-btn" id="leaderboardBtn">LEADERBOARD</button>
<button class="menu-btn" id="contactBtn">CONTACT</button>
</div>
</header>

<main>
<h1>MOVE TO EARN</h1>
<p>Walk or dance to earn <span class="gold">$XHI</span> rewards.</p>

<div class="move-features">
  <!-- Walk Feature -->
  <div class="feature-card" id="walkCard">
    <span class="feature-icon">üö∂‚Äç‚ôÇÔ∏è</span>
    <h2 class="feature-title">Walk to Earn</h2>
    <p class="feature-description">Connect your fitness tracker or use device sensors to earn XHI for every step you take.</p>

    <div class="feature-stats">
      <div class="stat-item">
        <span class="stat-label">Today's Steps:</span>
        <span class="stat-value" id="todaySteps">0</span>
      </div>
      <div class="stat-item">
        <span class="stat-label">XHI Rate:</span>
        <span class="stat-value">0.001 per 100 steps</span>
      </div>
      <div class="stat-item">
        <span class="stat-label">Total Earned:</span>
        <span class="stat-value" id="walkEarned">0.000 XHI</span>
      </div>
    </div>

    <div class="progress-bar">
      <div class="progress-fill" id="walkProgress" style="width: 0%"></div>
    </div>
    <p style="color: #CCCCCC; font-size: 0.9rem;">Progress to next reward (100 steps)</p>

    <button class="feature-btn" id="startWalkBtn">Start Walking Session</button>
    <button class="feature-btn" id="connectFitnessBtn">Connect Fitness Tracker</button>
  </div>

  <!-- Dance Feature -->
  <div class="feature-card" id="danceCard">
    <span class="feature-icon">üíÉ</span>
    <h2 class="feature-title">Dance to Earn</h2>
    <p class="feature-description">Join dance challenges and earn XHI based on movement intensity and duration.</p>

    <div class="dance-difficulty">
      <button class="difficulty-btn" data-difficulty="easy">Easy</button>
      <button class="difficulty-btn selected" data-difficulty="medium">Medium</button>
      <button class="difficulty-btn" data-difficulty="hard">Hard</button>
    </div>

    <div class="feature-stats">
      <div class="stat-item">
        <span class="stat-label">Session Time:</span>
        <span class="stat-value" id="danceTime">00:00</span>
      </div>
      <div class="stat-item">
        <span class="stat-label">Intensity Score:</span>
        <span class="stat-value" id="intensityScore">0%</span>
      </div>
      <div class="stat-item">
        <span class="stat-label">Session Earnings:</span>
        <span class="stat-value" id="danceEarned">0.000 XHI</span>
      </div>
    </div>

    <div class="progress-bar">
      <div class="progress-fill" id="danceProgress" style="width: 0%"></div>
    </div>
    <p style="color: #CCCCCC; font-size: 0.9rem;">Movement intensity tracker</p>

    <button class="feature-btn" id="startDanceBtn">Start Dance Session</button>
    <button class="feature-btn" id="joinChallengeBtn">Join Dance Challenge</button>
  </div>
</div>

<div id="sessionModal" style="display: none; position: fixed; top: 20px; right: 20px; width: 320px; height: auto; background: transparent; z-index: 1000;">
  <div style="background: linear-gradient(135deg, #111, #1a1a1a); border: 2px solid #00BFFF; border-radius: 15px; padding: 1.5rem; text-align: center; box-shadow: 0 0 30px rgba(0, 191, 255, 0.3);">
    <h3 id="sessionTitle" style="color: #00BFFF; margin-bottom: 1rem; font-size: 1.2rem;"></h3>
    <div id="sessionContent" style="margin-bottom: 1rem;"></div>
    <button onclick="closeSessionModal()" style="background: linear-gradient(135deg, #FF4444, #CC0000); color: white; border: none; padding: 0.6rem 1.2rem; border-radius: 8px; cursor: pointer; font-family: 'Orbitron', sans-serif; font-weight: 600; transition: all 0.3s ease;">Stop Session</button>
  </div>
</div>
</main>

<footer>
<div class="footer-info">
<img src="xoclon-inc-logo.png" alt="XOCLON Logo" class="mini-logo">
<p>¬© 2025 XOCLON INC. ‚Äî All rights reserved</p>
</div>
</footer>

<script src="security.js"></script>
<script src="script.js"></script>
<script src="zed-copilot.js"></script>
<script>
// Move to Earn functionality
let walkSession = {
  active: false,
  startTime: null,
  steps: 0,
  earnings: 0
};

let danceSession = {
  active: false,
  startTime: null,
  duration: 0,
  intensity: 0,
  earnings: 0
};

// Close session modal function
function closeSessionModal() {
  document.getElementById('sessionModal').style.display = 'none';

  // Stop any active sessions
  if (walkSession.active) {
    walkSession.active = false;
    document.getElementById('walkCard').classList.remove('active-session');
    document.getElementById('startWalkBtn').textContent = 'Start Walking Session';
  }

  if (danceSession.active) {
    danceSession.active = false;
    document.getElementById('danceCard').classList.remove('active-session');
    document.getElementById('startDanceBtn').textContent = 'Start Dance Session';
  }
}

// Walk session functionality
document.getElementById('startWalkBtn').addEventListener('click', function() {
  if (!walkSession.active) {
    startWalkSession();
  } else {
    stopWalkSession();
  }
});

function startWalkSession() {
  walkSession.active = true;
  walkSession.startTime = Date.now();
  document.getElementById('walkCard').classList.add('active-session');
  document.getElementById('startWalkBtn').textContent = 'Stop Walking Session';

  // Show session modal
  document.getElementById('sessionModal').style.display = 'flex';
  document.getElementById('sessionTitle').textContent = 'Walking Session Active';
  document.getElementById('sessionContent').innerHTML = `
    <p>üö∂‚Äç‚ôÇÔ∏è Keep moving to earn XHI!</p>
    <p>Steps: <span id="liveSteps">0</span></p>
    <p>Earnings: <span id="liveEarnings">0.000</span> XHI</p>
  `;

  // Simulate step counting
  simulateSteps();
}

function stopWalkSession() {
  walkSession.active = false;
  document.getElementById('walkCard').classList.remove('active-session');
  document.getElementById('startWalkBtn').textContent = 'Start Walking Session';
  closeSessionModal();
}

function simulateSteps() {
  if (!walkSession.active) return;

  // Simulate step increments
  walkSession.steps += Math.floor(Math.random() * 3) + 1;
  walkSession.earnings = (walkSession.steps / 100) * 0.001;

  // Update UI
  document.getElementById('todaySteps').textContent = walkSession.steps;
  document.getElementById('walkEarned').textContent = walkSession.earnings.toFixed(3) + ' XHI';

  const progressPercent = (walkSession.steps % 100);
  document.getElementById('walkProgress').style.width = progressPercent + '%';

  // Update live session if active
  const liveSteps = document.getElementById('liveSteps');
  const liveEarnings = document.getElementById('liveEarnings');
  if (liveSteps) liveSteps.textContent = walkSession.steps;
  if (liveEarnings) liveEarnings.textContent = walkSession.earnings.toFixed(3);

  setTimeout(simulateSteps, 2000);
}

// Dance session functionality
document.getElementById('startDanceBtn').addEventListener('click', function() {
  if (!danceSession.active) {
    startDanceSession();
  } else {
    stopDanceSession();
  }
});

function startDanceSession() {
  danceSession.active = true;
  danceSession.startTime = Date.now();
  document.getElementById('danceCard').classList.add('active-session');
  document.getElementById('startDanceBtn').textContent = 'Stop Dance Session';

  // Show session modal
  document.getElementById('sessionModal').style.display = 'flex';
  document.getElementById('sessionTitle').textContent = 'Dance Session Active';
  document.getElementById('sessionContent').innerHTML = `
    <p>üíÉ Keep dancing to earn XHI!</p>
    <p>Duration: <span id="liveDuration">00:00</span></p>
    <p>Intensity: <span id="liveIntensity">0</span>%</p>
    <p>Earnings: <span id="liveDanceEarnings">0.000</span> XHI</p>
  `;

  // Simulate dance tracking
  simulateDance();
}

function stopDanceSession() {
  danceSession.active = false;
  document.getElementById('danceCard').classList.remove('active-session');
  document.getElementById('startDanceBtn').textContent = 'Start Dance Session';
  closeSessionModal();
}

function simulateDance() {
  if (!danceSession.active) return;

  // Calculate duration
  const currentTime = Date.now();
  danceSession.duration = Math.floor((currentTime - danceSession.startTime) / 1000);

  // Simulate intensity changes
  danceSession.intensity = Math.floor(Math.random() * 100);

  // Calculate earnings based on duration and intensity
  danceSession.earnings = (danceSession.duration * danceSession.intensity / 10000) * 0.01;

  // Update UI
  const minutes = Math.floor(danceSession.duration / 60);
  const seconds = danceSession.duration % 60;
  const timeString = `${minutes.toString().padStart(2, '0')}:${seconds.toString().padStart(2, '0')}`;

  document.getElementById('danceTime').textContent = timeString;
  document.getElementById('intensityScore').textContent = danceSession.intensity + '%';
  document.getElementById('danceEarned').textContent = danceSession.earnings.toFixed(3) + ' XHI';
  document.getElementById('danceProgress').style.width = danceSession.intensity + '%';

  // Update live session if active
  const liveDuration = document.getElementById('liveDuration');
  const liveIntensity = document.getElementById('liveIntensity');
  const liveDanceEarnings = document.getElementById('liveDanceEarnings');
  if (liveDuration) liveDuration.textContent = timeString;
  if (liveIntensity) liveIntensity.textContent = danceSession.intensity;
  if (liveDanceEarnings) liveDanceEarnings.textContent = danceSession.earnings.toFixed(3);

  setTimeout(simulateDance, 1000);
}

// Difficulty selection
document.querySelectorAll('.difficulty-btn').forEach(btn => {
  btn.addEventListener('click', function() {
    document.querySelectorAll('.difficulty-btn').forEach(b => b.classList.remove('selected'));
    this.classList.add('selected');
  });
});

// Connect fitness tracker button
document.getElementById('connectFitnessBtn').addEventListener('click', function() {
  Swal.fire({
    title: 'CONNECT FITNESS TRACKER',
    html: `
      <p>Connect your fitness tracker to automatically earn XHI for your daily activities!</p>
      <div style="margin: 1rem 0;">
        <button onclick="connectFitness('googlefit')" style="background: #4285f4; color: white; border: none; padding: 0.5rem 1rem; margin: 0.5rem; border-radius: 5px;">Google Fit</button>
        <button onclick="connectFitness('apple')" style="background: #000; color: white; border: none; padding: 0.5rem 1rem; margin: 0.5rem; border-radius: 5px;">Apple Health</button>
        <button onclick="connectFitness('fitbit')" style="background: #00B0B9; color: white; border: none; padding: 0.5rem 1rem; margin: 0.5rem; border-radius: 5px;">Fitbit</button>
      </div>
    `,
    background: '#111',
    color: '#fff',
    showCloseButton: true,
    showConfirmButton: false
  });
});

function connectFitness(provider) {
  Swal.fire({
    title: 'CONNECTING...',
    text: `Connecting to ${provider}...`,
    background: '#111',
    color: '#fff',
    timer: 2000,
    showConfirmButton: false
  }).then(() => {
    Swal.fire({
      title: 'CONNECTED!',
      text: `${provider} connected successfully!`,
      background: '#111',
      color: '#fff',
      timer: 2000,
      showConfirmButton: false
    });
  });
}

// Join dance challenge button
document.getElementById('joinChallengeBtn').addEventListener('click', function() {
  Swal.fire({
    title: 'DANCE CHALLENGES',
    html: `
      <div style="text-align: left;">
        <h3>Available Challenges:</h3>
        <div style="margin: 1rem 0; padding: 1rem; background: rgba(0,191,255,0.1); border-radius: 8px;">
          <h4>Weekly Dance Battle</h4>
          <p>Duration: 3 days remaining</p>
          <p>Prize Pool: 100 XHI</p>
          <p>Participants: 234</p>
          <button onclick="joinChallenge('weekly')" style="background: #00BFFF; color: white; border: none; padding: 0.5rem 1rem; border-radius: 5px;">JOIN</button>
        </div>
        <div style="margin: 1rem 0; padding: 1rem; background: rgba(255,215,0,0.1); border-radius: 8px;">
          <h4>Freestyle Friday</h4>
          <p>Duration: 2 days remaining</p>
          <p>Prize Pool: 50 XHI</p>
          <p>Participants: 89</p>
          <button onclick="joinChallenge('freestyle')" style="background: #FFD700; color: black; border: none; padding: 0.5rem 1rem; border-radius: 5px;">JOIN</button>
        </div>
      </div>
    `,
    background: '#111',
    color: '#fff',
    showCloseButton: true,
    showConfirmButton: false
  });
});

function joinChallenge(challengeType) {
  Swal.fire({
    title: 'CHALLENGE JOINED!',
    text: `You've joined the ${challengeType} challenge! Start dancing to compete.`,
    background: '#111',
    color: '#fff',
    timer: 3000,
    showConfirmButton: false
  });
}
</script>
</body>
</html>